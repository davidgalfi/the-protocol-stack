<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Protocol Stack</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --accent-color: #00ff41;
            --secondary-text: #a0a0a0;
            --border-color: #333;
            --touch-target: 48px; /* Minimum touch target size */
        }
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 15px; /* Slightly reduced padding for mobile */
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 50px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 20px;
        }
        h1 { 
            margin: 0; 
            color: var(--accent-color); 
            font-size: 1.8rem; /* Responsive font size */
        }
        .subtitle { 
            color: var(--secondary-text); 
            font-size: 0.8rem; 
            margin-top: 5px;
        }
        
        /* Sticky Search Bar */
        .search-container {
            position: sticky;
            top: 10px;
            z-index: 100;
            background-color: var(--bg-color);
            padding-bottom: 10px;
        }

        #search-box {
            width: 100%;
            padding: 15px;
            font-size: 16px; /* Prevents iOS zoom */
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-color);
            font-family: inherit;
            box-sizing: border-box; /* Ensures padding is included in width */
            border-radius: 4px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        #search-box:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .protocol-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            margin-bottom: 12px;
            border-left: 4px solid var(--accent-color);
            cursor: pointer;
            transition: background 0.2s;
            border-radius: 4px;
            overflow: hidden; /* Contains child margins */
        }
        
        /* Mobile Active State instead of Hover */
        .protocol-card:active {
            background: #252525;
        }

        .protocol-header {
            padding: 15px; /* Large touch area */
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: var(--touch-target);
        }
        .protocol-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--accent-color);
            flex: 1; /* Takes available space */
            margin-right: 10px;
        }
        .protocol-meta {
            font-size: 0.75rem;
            color: var(--secondary-text);
            white-space: nowrap;
        }
        
        .protocol-body {
            display: none;
            padding: 0 15px 15px 15px;
            border-top: 1px solid var(--border-color);
        }
        .protocol-card.expanded .protocol-body {
            display: block;
        }
        .protocol-card.expanded {
            margin-bottom: 20px;
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.1);
        }

        .protocol-desc {
            margin: 15px 0;
            font-style: italic;
            font-size: 0.95rem;
            color: #ccc;
        }
        .step-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .step-list li {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
        }
        .step-list li::before {
            content: ">";
            color: var(--accent-color);
            margin-right: 12px;
            flex-shrink: 0; /* Prevents arrow from shrinking */
        }
        .exit-condition {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px dashed var(--border-color);
            font-size: 0.85rem;
            color: var(--secondary-text);
            font-weight: bold;
        }
        .tag {
            display: inline-block;
            background: #333;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-right: 6px;
            margin-bottom: 6px;
        }
        .chevron {
            color: var(--accent-color);
            margin-left: 10px;
            font-weight: bold;
            transition: transform 0.3s;
        }
        .protocol-card.expanded .chevron {
            transform: rotate(180deg);
        }
        
        /* Mobile specific adjustments */
        @media (max-width: 600px) {
            .container { padding: 10px; }
            .protocol-header { padding: 12px; }
            .protocol-title { font-size: 1rem; }
            h1 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>THE PROTOCOL STACK</h1>
            <p class="subtitle">Cognitive Checklists for Engineering & Learning</p>
        </header>

        <div class="search-container">
            <input type="text" id="search-box" placeholder="SEARCH PROTOCOLS...">
        </div>

        <div id="protocol-list">
            <p style="text-align: center; color: #666;">Loading protocols...</p>
        </div>
    </div>

    <script>
        const PROTOCOLS_DATA = [
  // --- BASIC ---
  {
    "id": "segfault-001",
    "title": "Segfault Protocol",
    "category": "Debugging",
    "severity": "SEV-2",
    "tags": ["c", "cpp", "memory", "crash", "code"],
    "description": "Standard procedure for handling segmentation faults without panic.",
    "steps": [
      "Reproduce the crash in an isolated environment (minimal reproduction).",
      "Compile with debug flags enabled (-g -O0 -fsanitize=address).",
      "Run the program inside a debugger (gdb/lldb) or Valgrind.",
      "Identify the exact line of the crash from the stack trace.",
      "Check all pointers on that line: Is any of them NULL?",
      "Check array bounds: Is the index within [0, size-1]?",
      "Check object lifetime: Was the memory already freed?",
      "If the crash is intermittent, check for race conditions or uninitialized variables."
    ],
    "exit_condition": "The crash is identified and a fix is verified in the isolated environment."
  },
  {
    "id": "deploy-fear-001",
    "title": "Friday Deploy Protocol",
    "category": "Operations",
    "severity": "SEV-1",
    "tags": ["deployment", "production", "risk", "server"],
    "description": "Safety checks before deploying code to production, especially on bad days.",
    "steps": [
      "Check the calendar: Is it Friday afternoon? If yes, ABORT unless critical fix.",
      "Verify all CI/CD pipelines are green.",
      "Review the diff one last time. Focus on config changes.",
      "Verify that a rollback plan is documented and tested.",
      "Check monitoring dashboards for current system health baselines.",
      "Announce the deployment in the relevant communication channel.",
      "Deploy to a canary/staging subset first if possible.",
      "Monitor error rates and latency for 15 minutes post-deploy."
    ],
    "exit_condition": "System is stable 30 mins after deploy, or rollback is completed."
  },
  {
    "id": "motivation-loss-001",
    "title": "Motivation Reboot Protocol",
    "category": "Psychology",
    "severity": "SEV-2",
    "tags": ["motivation", "tired", "burnout", "starting"],
    "description": "When you cannot bring yourself to read or code.",
    "steps": [
      "Acknowledge the feeling. Do not fight it. You are not 'lazy', you are low on dopamine.",
      "Set a timer for exactly 5 minutes.",
      "Commit to doing only ONE trivial task (e.g., open the IDE, read one paragraph).",
      "Say out loud: 'I do not have to finish this. I only have to start.'",
      "Remove one sensory distraction (close tab, put on noise-canceling headphones).",
      "If after 5 minutes you still hate it, you are allowed to stop.",
      "Usually, the 'activation energy' is the problem, not the task itself."
    ],
    "exit_condition": "You have engaged with the task for at least 5 minutes."
  },

  // --- ACADEMIC ---
  {
    "id": "polya-problem-solving-001",
    "title": "Polya's Problem Solving Protocol",
    "category": "Engineering",
    "severity": "SEV-2",
    "tags": ["problem solving", "math", "algorithm", "hard"],
    "description": "Based on George Polya's 'How to Solve It'. For complex, undefined problems.",
    "steps": [
      "PHASE 1: Understand. Can you state the problem in your own words?",
      "Draw a figure or diagram. Introduce suitable notation.",
      "PHASE 2: Plan. Find the connection between data and unknown.",
      "Have you seen this before? Or a slightly different form?",
      "Solve a simpler/related problem first (e.g., remove one constraint).",
      "PHASE 3: Execute. Carry out your plan step-by-step.",
      "Check each step. Can you prove that it is correct?",
      "PHASE 4: Look Back. Can you check the result?",
      "Can you derive the result differently? Can you use the method for another problem?"
    ],
    "exit_condition": "The solution is verified and the method is understood for future use."
  },
  {
    "id": "keshav-reading-001",
    "title": "Keshav's 3-Pass Reading Protocol",
    "category": "Research",
    "severity": "SEV-3",
    "tags": ["reading", "research", "paper", "academic"],
    "description": "Standard method for efficiently reading scientific papers (S. Keshav).",
    "steps": [
      "PASS 1 (5-10 min): Read Title, Abstract, Introduction.",
      "Read Section and Sub-section headings (ignore content).",
      "Read Conclusions. Glance at References.",
      "DECISION: Is this paper relevant? If NO, stop here.",
      "PASS 2 (1 hour): Read the content, but ignore proofs/details.",
      "Look carefully at figures, diagrams, and captions.",
      "Mark unread references for further reading.",
      "PASS 3 (Deep Dive): Virtually re-implement the paper.",
      "Identify and challenge every assumption.",
      "Think about how YOU would present this idea."
    ],
    "exit_condition": "You can summarize the paper's main idea and critique its weaknesses."
  },
  {
    "id": "feynman-learning-001",
    "title": "Feynman Deep Concept Protocol",
    "category": "Learning",
    "severity": "SEV-3",
    "tags": ["learning", "concept", "theory", "physics"],
    "description": "For truly understanding a concept, not just memorizing the name.",
    "steps": [
      "Choose the concept you want to understand.",
      "Pretend you are teaching it to a 12-year-old student (or a rubber duck).",
      "Use simple language. Avoid jargon and buzzwords.",
      "Identify gaps in your explanation (where you get stuck or use complex words).",
      "Go back to the source material to fill specifically those gaps.",
      "Simplify and create analogies.",
      "Repeat until the explanation is simple enough for a child."
    ],
    "exit_condition": "You can explain the concept simply without looking at any notes."
  },

  // --- SCIENTIFIC / SYSTEM ---
  {
    "id": "cognitive-bias-linter-001",
    "title": "Cognitive Bias Linter",
    "category": "Decision Making",
    "severity": "SEV-1",
    "tags": ["psychology", "bias", "logic", "decision", "critical thinking"],
    "description": "Debug your own brain before making a critical decision. Use this to catch 'System 1' errors.",
    "steps": [
      "SUNK COST CHECK: If I had invested ZERO time/money in this so far, would I still start it today? (If NO -> Abort).",
      "CONFIRMATION BIAS CHECK: Spend 5 minutes explicitly searching for evidence that proves me WRONG.",
      "FUNDAMENTAL ATTRIBUTION ERROR: Am I blaming a person's character for a situational problem?",
      "SURVIVORSHIP BIAS: Am I only looking at the winners? What about the invisible failures?",
      "OCCAM'S RAZOR: Is my explanation the simplest one, or am I inventing a conspiracy?",
      "ANCHORING: Am I fixated on the first number/solution I heard?",
      "EMOTIONAL STATE: Halt if hungry, angry, lonely, or tired (HALT)."
    ],
    "exit_condition": "You have identified at least one potential bias or confirmed rationality."
  },
  {
    "id": "diffused-mode-reset-001",
    "title": "Diffused Mode Reset",
    "category": "Neuroscience",
    "severity": "SEV-3",
    "tags": ["brain", "focus", "stuck", "neuroscience", "creativity"],
    "description": "Based on Oakley & Sejnowski. Force the brain to switch from TPN (Task Positive) to DMN (Default Mode) network.",
    "steps": [
      "CONDITION: Stuck on a problem for >15 minutes with zero progress.",
      "EXECUTE HARD STOP: Close the laptop/book immediately.",
      "SENSORY DEPRIVATION: No phone, no podcasts, no reading. Silence.",
      "KINETIC ENGAGEMENT: Perform a rhythmic, mindless physical task (walking, dishes, juggling).",
      "WAIT: Do not try to solve the problem. Let the DMN network scan for associations.",
      "CAPTURE: When a solution 'pops up' (Theta state), write it down instantly."
    ],
    "exit_condition": "A new perspective or solution approach has appeared spontaneously."
  },
  {
    "id": "triz-problem-solving-001",
    "title": "TRIZ Contradiction Solver",
    "category": "Engineering",
    "severity": "SEV-2",
    "tags": ["innovation", "triz", "engineering", "contradiction", "algorithm"],
    "description": "Algorithmic creativity based on Altshuller's analysis of 40k patents. Solve contradictions without compromise.",
    "steps": [
      "DEFINE: State the contradiction. 'If I improve [Parameter A], then [Parameter B] gets worse.'",
      "IDEAL FINAL RESULT: Imagine the problem solves itself without cost. 'The system prevents X by itself.'",
      "SEGMENTATION: Can I divide the object into independent parts?",
      "INVERSION: Can I do the opposite action? (Cool instead of heat? Move the part instead of the tool?)\",",
      "SELF-SERVICE: Can the object perform the useful function on itself?",
      "FEEDBACK: Can I introduce feedback to adapt to the situation?",
      "PARAMETER CHANGES: Change the state (solid->liquid), density, or flexibility."
    ],
    "exit_condition": "You have found a solution that resolves the contradiction without compromise."
  },
  {
    "id": "jacobi-inversion-001",
    "title": "Jacobi Inversion Protocol",
    "category": "Logic",
    "severity": "SEV-2",
    "tags": ["math", "inversion", "logic", "planning", "stoicism"],
    "description": "'Invert, always invert.' (Carl Jacobi). Solve difficult problems backwards.",
    "steps": [
      "INVERT GOAL: Instead of 'How do I achieve X?', ask 'How do I guarantee X never happens?'",
      "LIST FAILURE MODES: Write down exactly what would cause total failure.",
      "AVOIDANCE PLAN: Create a plan to prevent each of those failure modes.",
      "EXAMPLE: Don't ask 'How to write good code?'. Ask 'How to write unmaintainable code?' (No comments, global vars, huge functions).",
      "NEGATE: Do the opposite of the failure list."
    ],
    "exit_condition": "You have a robust plan based on avoiding known failure paths."
  },
  {
    "id": "5-whys-root-cause-001",
    "title": "The 5 Whys Root Cause",
    "category": "Debugging",
    "severity": "SEV-2",
    "tags": ["debugging", "management", "root cause", "toyota", "lean"],
    "description": "Based on Toyota Production System. Recursive interrogation to find the process failure, not the human failure.",
    "steps": [
      "DEFINE: State the specific problem clearly. (e.g., 'The server crashed').",
      "ASK WHY 1: Why did it crash? -> 'Because it ran out of memory'.",
      "ASK WHY 2: Why did it run out of memory? -> 'Because of a memory leak in the parser'.",
      "ASK WHY 3: Why was there a leak? -> 'Because we didn't test with large inputs'.",
      "ASK WHY 4: Why didn't we test? -> 'Because the test environment doesn't match production'.",
      "ASK WHY 5: Why no match? -> 'Because infrastructure is manual'. (ROOT CAUSE: Lack of IaC).",
      "FIX: Fix the root cause (Automate infra), not just the symptom (Restart server)."
    ],
    "exit_condition": "You have identified a systemic process flaw that can be fixed permanently."
  },
  {
    "id": "ooda-loop-001",
    "title": "OODA Loop (Boyd Cycle)",
    "category": "Decision Making",
    "severity": "SEV-1",
    "tags": ["decision", "chaos", "military", "strategy", "speed"],
    "description": "John Boyd's cybernetic loop for winning in chaotic environments. Speed > Perfection.",
    "steps": [
      "OBSERVE: Gather raw data from the environment. What is actually happening right now?",
      "ORIENT: Filter data through your culture, genetics, and previous experience. Smash old models to create new ones.",
      "DECIDE: Form a hypothesis. Choose the 'least worst' option quickly.",
      "ACT: Execute the decision violently and decisively.",
      "LOOP: Immediately go back to Observe. Did your action change the situation? Repeat faster than the opponent."
    ],
    "exit_condition": "You are acting faster than the problem serves new inputs."
  },
  {
    "id": "amdahl-optimization-001",
    "title": "Amdahl's Optimization Law",
    "category": "Engineering",
    "severity": "SEV-3",
    "tags": ["performance", "optimization", "math", "computer science"],
    "description": "Don't optimize blindly. Use Amdahl's Law to find the theoretical maximum speedup.",
    "steps": [
      "MEASURE: Profile the code. Find the part that is slow.",
      "IDENTIFY P: What percentage of the execution time does this part take? (e.g., p = 0.6 or 60%).",
      "CALCULATE: Even if you make that part infinitely fast, the max speedup is 1 / (1 - p). (e.g., 1 / 0.4 = 2.5x).",
      "DECIDE: Is it worth the engineering effort for that maximum theoretical gain?",
      "FOCUS: If 'p' is small, STOP optimization. Focus only on high 'p' components."
    ],
    "exit_condition": "You have mathematical proof that optimization is worth the effort (or not)."
  },
  {
    "id": "galls-law-design-001",
    "title": "Gall's Law System Design",
    "category": "System Design",
    "severity": "SEV-2",
    "tags": ["architecture", "complexity", "design", "gall", "systems"],
    "description": "'A complex system that works is invariably found to have evolved from a simple system that worked.'",
    "steps": [
      "RULE 1: Do NOT design a complex system from scratch. It will fail. (Gall's Law).",
      "STEP 1: Build the 'Minimum Viable System' (MVS). The dumbest possible thing that runs end-to-end.",
      "STEP 2: Verify that the simple system works perfectly.",
      "STEP 3: Add ONE complex feature/module.",
      "STEP 4: Verify again. If it breaks, remove the feature. Do not patch it.",
      "REPEAT: Evolve the system incrementally. Complexity is grown, not built."
    ],
    "exit_condition": "You have a working complex system evolved from a working simple one."
  },

  // --- NEW HARD SCIENCE ---
  {
    "id": "simulated-annealing-001",
    "title": "Simulated Annealing",
    "category": "Problem Solving",
    "severity": "SEV-2",
    "tags": ["algorithm", "physics", "stuck", "optimization", "random"],
    "description": "Physics-based algorithm for finding global optimums. When stuck (local max), add noise.",
    "steps": [
      "CONDITION: You are stuck in a 'local optimum' (making small changes but not improving).",
      "TEMPERATURE UP: Introduce high randomness/noise. Try a radically stupid idea.",
      "EXPLORE: Rewrite the function in a new language? Delete 50% of the code? Draw the problem upside down?",
      "COOL DOWN: If a random move looks promising, start refining (hill climbing) from there.",
      "ACCEPTANCE: Accept a worse state temporarily if it allows escaping the local trap."
    ],
    "exit_condition": "You have escaped the local mental trap and found a new path."
  },
  {
    "id": "bayesian-update-001",
    "title": "Bayesian Belief Update",
    "category": "Logic",
    "severity": "SEV-3",
    "tags": ["statistics", "bayes", "logic", "beliefs", "evidence"],
    "description": "Rationality is not about being right, but about updating your probability based on new evidence.",
    "steps": [
      "PRIOR: What did I believe before? (e.g., 'This bug is caused by the database' - 80% confidence).",
      "EVIDENCE: What new data did I just see? (e.g., 'The database logs are clean').",
      "UPDATE: Do not say 'I was wrong'. Say 'My confidence in the DB hypothesis dropped to 10%'.",
      "SEARCH: What hypothesis explains the evidence best?",
      "RULE: Absence of evidence IS evidence of absence (if you looked where it should be)."
    ],
    "exit_condition": "You have adjusted your confidence levels to match the current reality."
  },
  {
    "id": "shannon-information-theory-001",
    "title": "Shannon Information Protocol",
    "category": "Communication",
    "severity": "SEV-2",
    "tags": ["entropy", "communication", "noise", "redundancy", "signal"],
    "description": "Based on C. Shannon's Mathematical Theory of Communication. Maximize signal, minimize noise.",
    "steps": [
      "DEFINE SOURCE: What is the exact 'bit' of information I need to transmit?",
      "ESTIMATE NOISE: Who is the receiver? (Tired professor? Busy boss?). High noise requires high redundancy.",
      "ENCODE: Compress the message. Remove every word that doesn't reduce uncertainty (Entropy).",
      "ADD REDUNDANCY: Add error-correction codes (summaries, diagrams) ONLY if the channel is noisy.",
      "TRANSMIT: Send the message.",
      "FEEDBACK: Did the receiver decode the same 'bit'? If not, the channel capacity was exceeded."
    ],
    "exit_condition": "The message received is identical to the message sent, with minimal bits used."
  },
  {
    "id": "first-principles-thinking-001",
    "title": "First Principles Thinking",
    "category": "Logic",
    "severity": "SEV-1",
    "tags": ["physics", "logic", "innovation", "problem solving", "reasoning"],
    "description": "Boil things down to their fundamental truths and reason up from there. Avoid reasoning by analogy.",
    "steps": [
      "IDENTIFY: Define your current assumptions. (e.g. 'Battery packs are expensive').",
      "BREAKDOWN: Deconstruct the problem into fundamental principles (Physics/Math/Economics).",
      "ASK: What is indisputably true? (e.g. 'Batteries are made of Cobalt, Nickel, Aluminum').",
      "RECONSTRUCT: Create a new solution from scratch using ONLY these axioms.",
      "CHECK: Does your solution violate physics? If no, it is possible, even if nobody does it."
    ],
    "exit_condition": "You have a solution derived from fundamental truths, not from 'best practices'."
  },
  {
    "id": "pareto-analysis-001",
    "title": "Pareto Learning (80/20)",
    "category": "Learning",
    "severity": "SEV-3",
    "tags": ["efficiency", "learning", "study", "exam", "pareto"],
    "description": "Vilfredo Pareto's Principle. 80% of results come from 20% of causes. Don't learn everything.",
    "steps": [
      "ANALYZE: Look at past exams or project requirements.",
      "IDENTIFY 20%: Which few concepts appear in 80% of the questions? (e.g. Loops, Arrays, OOP).",
      "FOCUS: Spend 80% of your time mastering ONLY those core concepts.",
      "IGNORE: Actively ignore the 'edge cases' and rare exceptions until the core is perfect.",
      "TEST: Can you solve the main problems perfectly? If yes, you are ready for 80% of situations."
    ],
    "exit_condition": "You have mastered the vital few concepts that deliver the most value."
  },
  {
    "id": "circle-of-competence-001",
    "title": "Circle of Competence",
    "category": "Decision Making",
    "severity": "SEV-2",
    "tags": ["buffett", \"risk\", \"knowledge\", \"humility\", \"smart\"],\n    \"description\": \"Know exactly what you know and what you don't. Stay inside the circle to avoid stupidity.\",\n    \"steps\": [\n      \"MAP: Draw a mental circle. Inside is what you KNOW (have done/proven). Outside is what you 'think' you know.\",\n      \"CHECK: Am I about to make a decision/statement about something OUTSIDE the circle?\",\n      \"STOP: If outside, say 'I don't know'. Do not guess.\",\n      \"EXPAND: If you must act, first expand the circle by studying (First Principles).\",\n      \"RISK: Taking risks inside the circle is calculated. Taking risks outside is gambling.\"\n    ],\n    \"exit_condition\": \"You are acting only within the boundaries of your proven knowledge.\"\n  },\n  {
    \"id\": \"cynefin-framework-001\",
    \"title\": \"The Cynefin Framework\",
    \"category\": \"Decision Making\",
    \"severity\": \"SEV-1\",
    \"tags\": [\"complexity\", \"chaos\", \"management\", \"strategy\", \"snowden\"],
    \"description\": \"Dave Snowden's complexity model. Categorize the problem before choosing a solution strategy.\",
    \"steps\": [\n      \"CATEGORIZE: Is the problem Simple, Complicated, Complex, or Chaotic?\",\n      \"SIMPLE (Best Practice): Sense -> Categorize -> Respond. Follow the manual.\",\n      \"COMPLICATED (Good Practice): Sense -> Analyze -> Respond. Call an expert.\",\n      \"COMPLEX (Emergent): Probe -> Sense -> Respond. Run small experiments (Safe-to-fail).\",\n      \"CHAOTIC (Survival): Act -> Sense -> Respond. Do something NOW to stabilize bleeding.\",\n      \"WARNING: Do not treat Complex problems as Simple. That is the path to failure.\"\n    ],\n    \"exit_condition\": \"You have matched your response strategy to the true nature of the problem.\"\n  }\n];\n\n        const protocolList = document.getElementById('protocol-list');\n        const searchBox = document.getElementById('search-box');\n\n        function renderProtocols(data) {\n            protocolList.innerHTML = '';\n            if (data.length === 0) {\n                protocolList.innerHTML = '<p style=\"text-align: center;\">No protocols found matching criteria.</p>';\n                return;\n            }\n\n            data.forEach(p => {\n                const card = document.createElement('div');\n                card.className = 'protocol-card';\n                // Initially collapsed state handled by missing 'expanded' class\n                \n                const tagsHtml = (p.tags || []).map(t => `<span class=\"tag\">${t.toUpperCase()}</span>`).join('');\n                const stepsHtml = (p.steps || []).map(step => `<li>${step}</li>`).join('');\n\n                card.innerHTML = `\n                    <div class=\"protocol-header\" onclick=\"this.parentElement.classList.toggle('expanded')\">\n                        <div class=\"protocol-title\">${p.title.toUpperCase()}</div>\n                        <div style=\"display: flex; align-items: center;\">\n                            <span class=\"protocol-meta\">[${p.severity}] ${p.category}</span>\n                            <span class=\"chevron\">â–¼</span>\n                        </div>\n                    </div>\n                    <div class=\"protocol-body\">\n                        <div class=\"protocol-desc\">${p.description}</div>\n                        <div style=\"margin-bottom: 10px;\">${tagsHtml}</div>\n                        <ul class=\"step-list\">\n                            ${stepsHtml}\n                        </ul>\n                        <div class=\"exit-condition\">\n                            EXIT: ${p.exit_condition}\n                        </div>\n                    </div>\n                `;\n                protocolList.appendChild(card);\n            });\n        }\n\n        searchBox.addEventListener('input', (e) => {\n            const query = e.target.value.toLowerCase();\n            const filtered = PROTOCOLS_DATA.filter(p => \n                p.title.toLowerCase().includes(query) || \n                (p.tags && p.tags.some(t => t.toLowerCase().includes(query))) ||\n                (p.category && p.category.toLowerCase().includes(query))\n            );\n            renderProtocols(filtered);\n        });\n\n        // Initialize directly without fetch\n        renderProtocols(PROTOCOLS_DATA);\n    </script>\n</body>\n</html>